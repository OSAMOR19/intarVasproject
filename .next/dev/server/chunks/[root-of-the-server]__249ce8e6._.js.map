{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyberzik/Desktop/intarVasproject/lib/puzzle.ts"],"sourcesContent":["/**\n * PuzzleGenerator - Creates simple math puzzles for bot protection\n */\n\nexport interface Puzzle {\n  question: string;\n  answer: number;\n}\n\n/**\n * Generates a random addition puzzle (X + Y)\n * where X and Y are integers between 1 and 10\n */\nexport function generatePuzzle(): Puzzle {\n  const x = Math.floor(Math.random() * 10) + 1; // Random number 1-10\n  const y = Math.floor(Math.random() * 10) + 1; // Random number 1-10\n  \n  const question = `What is ${x} + ${y}?`;\n  const answer = x + y;\n  \n  return { question, answer };\n}\n\n/**\n * Validates a puzzle answer by parsing the question\n * and computing the expected result\n */\nexport function validatePuzzleAnswer(question: string, userAnswer: number): boolean {\n  try {\n    // Extract numbers from question like \"What is 4 + 7?\"\n    const match = question.match(/What is (\\d+) \\+ (\\d+)\\?/);\n    \n    if (!match) {\n      return false;\n    }\n    \n    const x = parseInt(match[1], 10);\n    const y = parseInt(match[2], 10);\n    const expectedAnswer = x + y;\n    \n    return userAnswer === expectedAnswer;\n  } catch (error) {\n    return false;\n  }\n}\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AAWM,SAAS;IACd,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,GAAG,qBAAqB;IACnE,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM,GAAG,qBAAqB;IAEnE,MAAM,WAAW,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IACvC,MAAM,SAAS,IAAI;IAEnB,OAAO;QAAE;QAAU;IAAO;AAC5B;AAMO,SAAS,qBAAqB,QAAgB,EAAE,UAAkB;IACvE,IAAI;QACF,sDAAsD;QACtD,MAAM,QAAQ,SAAS,KAAK,CAAC;QAE7B,IAAI,CAAC,OAAO;YACV,OAAO;QACT;QAEA,MAAM,IAAI,SAAS,KAAK,CAAC,EAAE,EAAE;QAC7B,MAAM,IAAI,SAAS,KAAK,CAAC,EAAE,EAAE;QAC7B,MAAM,iBAAiB,IAAI;QAE3B,OAAO,eAAe;IACxB,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/cyberzik/Desktop/intarVasproject/app/api/send-email/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { Resend } from \"resend\";\nimport { validatePuzzleAnswer } from \"@/lib/puzzle\";\n\nconst resend = new Resend(\"re_Tadpj79T_27eSiFhauRax21Qpv3wVmTgL\");\n\nexport async function POST(req: Request) {\n  try {\n    const body = await req.json();\n    const { fullName, email, phone, subject, message, puzzleQuestion, puzzleAnswer } = body;\n\n    // Validate puzzle answer (bot protection)\n    if (!puzzleQuestion || puzzleAnswer === undefined) {\n      return NextResponse.json(\n        { success: false, message: \"Security question is required\" },\n        { status: 400 }\n      );\n    }\n\n    const isPuzzleValid = validatePuzzleAnswer(puzzleQuestion, puzzleAnswer);\n    if (!isPuzzleValid) {\n      return NextResponse.json(\n        { success: false, message: \"Failed puzzle validation. Please try again.\" },\n        { status: 400 }\n      );\n    }\n\n    // NOTE: Using onboarding@resend.dev for testing until intarvas.com domain is verified\n    // To verify your domain, visit: https://resend.com/domains\n    const { data, error } = await resend.emails.send({\n      from: \"onboarding@resend.dev\", // Resend's test email (works without domain verification)\n      to: \"support@intarvas.com\", // Your Resend account email (only email that can receive test emails)\n      reply_to: email, // User's email for replies\n      subject: subject || \"New Contact Form Message from IntarVAS\",\n      html: `\n        <div style=\"font-family: sans-serif; line-height: 1.6;\">\n          <h2>New Message from ${fullName}</h2>\n          <p><strong>Email:</strong> ${email}</p>\n          ${phone ? `<p><strong>Phone:</strong> ${phone}</p>` : ''}\n          ${subject ? `<p><strong>Subject:</strong> ${subject}</p>` : ''}\n          <p><strong>Message:</strong></p>\n          <p>${message.replace(/\\n/g, '<br>')}</p>\n          <hr style=\"margin: 20px 0; border: none; border-top: 1px solid #ddd;\" />\n          <p style=\"color: #666; font-size: 12px;\">\n            This message was sent from the IntarVAS contact form.<br/>\n            Reply directly to this email to respond to ${fullName}.\n          </p>\n        </div>\n      `,\n    });\n\n    if (error) {\n      console.error(\"Resend error:\", error);\n      return NextResponse.json(\n        { success: false, message: error.message },\n        { status: 400 }\n      );\n    }\n\n    return NextResponse.json({\n      success: true,\n      message: \"Email sent successfully!\",\n      data,\n    });\n  } catch (err: any) {\n    console.error(\"Server error:\", err);\n    return NextResponse.json(\n      { success: false, message: err.message || \"Internal server error\" },\n      { status: 500 }\n    );\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,SAAS,IAAI,oJAAM,CAAC;AAEnB,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,cAAc,EAAE,YAAY,EAAE,GAAG;QAEnF,0CAA0C;QAC1C,IAAI,CAAC,kBAAkB,iBAAiB,WAAW;YACjD,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAgC,GAC3D;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,gBAAgB,IAAA,uIAAoB,EAAC,gBAAgB;QAC3D,IAAI,CAAC,eAAe;YAClB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAA8C,GACzE;gBAAE,QAAQ;YAAI;QAElB;QAEA,sFAAsF;QACtF,2DAA2D;QAC3D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YAC/C,MAAM;YACN,IAAI;YACJ,UAAU;YACV,SAAS,WAAW;YACpB,MAAM,CAAC;;+BAEkB,EAAE,SAAS;qCACL,EAAE,MAAM;UACnC,EAAE,QAAQ,CAAC,2BAA2B,EAAE,MAAM,IAAI,CAAC,GAAG,GAAG;UACzD,EAAE,UAAU,CAAC,6BAA6B,EAAE,QAAQ,IAAI,CAAC,GAAG,GAAG;;aAE5D,EAAE,QAAQ,OAAO,CAAC,OAAO,QAAQ;;;;uDAIS,EAAE,SAAS;;;MAG5D,CAAC;QACH;QAEA,IAAI,OAAO;YACT,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS,MAAM,OAAO;YAAC,GACzC;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;YACT;QACF;IACF,EAAE,OAAO,KAAU;QACjB,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS,IAAI,OAAO,IAAI;QAAwB,GAClE;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}